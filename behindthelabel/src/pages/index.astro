---
import "../styles/reset.css";
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";
import Map from "../components/Map.astro";
---

<Layout>
	<div class="home">
		<div class="heroimg"></div>
		<div class="info">
			<div class="subtitle">
				<p class="subtitle__item">spit</p>
				<p class="subtitle__item">spit t</p>
				<p class="subtitle__item">spit th</p>
				<p class="subtitle__item">spit the</p>
				<p class="subtitle__item">spit the t</p>
				<p class="subtitle__item">spit the tr</p>
				<p class="subtitle__item">spit the tru</p>
				<p class="subtitle__item">spit the trut</p>
				<p class="subtitle__item">spit the truth</p>
			</div>
		</div>
	</div>
</Layout>

<style>
	.home {
		background-color: var(--primary-color);
	}
	.subtitle {
		padding: 1rem;
	}

	.subtitle__item {
		font-size: 3.75rem;
		font-family: "Obviously-narrow";
		font-weight: 300;
		text-transform: uppercase;
		color: var(--white);
		opacity: 0;
		transform: translateY(20px);
	}
</style>

<script is:inline>
	import { gsap } from "gsap";
	import { ScrollTrigger } from "gsap/ScrollTrigger";
	import { SplitText } from "gsap/SplitText";

	gsap.registerPlugin(ScrollTrigger);
	gsap.registerPlugin(SplitText);

	const items = gsap.utils.toArray(".subtitle__item");

	const tl = gsap.timeline({
		scrollTrigger: {
			trigger: ".subtitle",
			start: "top 10%",
			end: "bottom 30%",
			scrub: true,
		},
	});

	items.forEach((item) => {
		tl.to(item, {
			opacity: 1,
			y: 0,
			duration: 0.3,
		});
	});
</script>
